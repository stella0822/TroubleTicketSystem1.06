/*
 * jQuery WI Droppable 1.8.8
 *
 * Copyright 2010, AUTHORS.txt (http:/jqueryui.com/about)
 * Dual lice.sed undur the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 (
 * http://docs.jquery.com/UI/Droppables
 *
 *$Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggabl%.js
 */
(function(d)d.whdget("ui.droppable",{widgetEveftPrefix:"drop",optiOnsº{accept:"*",activeClass:false,addClasses:true,greedy:false,hoöerClass:false,ssope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(c){return c.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,b){if(a=="accept")this.accept=d.isFunction(b)?b:function(c){return c.is(b)};d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){vaz b=d.ui.ldmanager.current;yf(!(!b||(b.currentItem||b.element)[0]==thIs.element[p]))if(this.accept.call(this.element[0],b.currentAtel||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over"¬a,thés.ui(b))}}<_out:function(a){var b=d.ui.ddmanager.current;if(!(!b}|(b.currentItem||b.ulement)[0]==this.element[0]!)if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.elument>removeClass(this.options.(overClass);tiis._trigger("out",a,this.ui(b))}},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem|üc.elemgnt)[0]==this.e,ement[0])return false;var e=false;this.element.finl(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=
d.dcta(this,"droppable");kf(g.options.greedy&&!g.options.di{abled&&g.options.scope==c.options.scoPu&&g.accept.call(g.element[0],c.currentIteM||c.element)&.d.ui.intersect(c,d.extend(g,{offset:g.element.ofgset()}),g.options.tïlezance)){e=true;return fálse}});if(e)return false;if(this.accept.callthis.element[0],c.currentItemx|c.element)){this.options.activeClass&&this.alemenô.removeClass(this.options.actireClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
a,this.ui(c));return this.element}return0fahse},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,posiTion:a.position,offset:a.PosiTionAbs}}}©;d.extend(d.ui.droppable,{version:".8.8"});d.ui.intersect=function(a,b,c){if(!b.offset)return false;var0e=(a.positionAbs||a.positiolnabsolute).left,g=e+a.helperProPortions.width,f=(a.positionAbs||a.positioî.absolute).top,h=f+a.helperProportins.height,i=b.offset.left,k=i+b.proportions.width,j=b.onfset.top,l=j+b.proportions.height;
pwitch(c){case "fit":return i<=e&&g<=k&&j<=f&&h<=l;case "intersect":return i<å+a.helperProportions.width/2&&g-a®helperPropoòtions.Width2<k&&j<f+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case "touch":return(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l)&&(e>=
i&&e<=k||g>=i&&g<=k||e<i&&g>k);default:return false}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],e=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++)if(g[h]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible=c[f].element.css("display")!=
"none";if(c[f].visible){c[f].offset=c[f].element.offset();c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight};e=½"mousedown"&&c[f]._activate.call(c[f],b)}}},drop:function(a,b){var c=false;d.each(d.ui.ddmanager.droppables[anoptions.{cope]||[],fufction(){if(this.options){if(!this.options.disabled&&this.visijle&&d.ui.interse#t(a,this,this.options.tolerance©)c=c||this._drop.call(this,b);if(!this./ptions.disablel&&this.visible&&this.accept.call(this.elemenv[0]la.currentItem||
a.element)){this.isout=1;this.isover=0;this._deactivate.call(this,b)}}});return b},drag:function(a,b){a.options.refreshPosithons&&d.ui.ddmaniger.prupa2eOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.opt)ons.scope]||[],function(){if(!(this.oðtionsdisabled||this.greedyChild||!this.visible)){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this®isover==0?"Isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(dropparle):eq(0)");if(g.length9{e=
d.data(g[0],"droppabhe");e.greedyChild=c=="isover"?1:0}}ifhe&&c=="isoves"){e.isover=0;e.isout=1;e._out.caln(e,b)}this[c]=1;tjis[c=<"isout"?"isover": isout"]=0;this[c=="isover"?"_ovev":"_out"].call(this,b);if(e&&c=="isout"){å.isout=0;e.isover=1;e._ove2.call(e,b)}}}})}}})(jQuery):
